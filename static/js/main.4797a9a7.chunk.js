(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{27:function(e,t,n){e.exports={login:"Login_login__3u8d3",control:"Login_control__1tKzp",invalid:"Login_invalid__1LUMi",actions:"Login_actions__27L-G"}},46:function(e,t,n){e.exports={input:"NewDate_input__ay3Ng",plusButton:"NewDate_plusButton__2pdEv"}},52:function(e,t,n){e.exports={card:"Card_card__3dSGE"}},53:function(e,t,n){e.exports={button:"Button_button__1NgIw"}},54:function(e,t,n){e.exports={home:"Reasons_home__2dDIz"}},55:function(e,t,n){e.exports={input:"AddReason_input__1n4Uf"}},56:function(e,t,n){e.exports={items:"ReasonList_items__2RHvT"}},57:function(e,t,n){e.exports={nav:"Navigation_nav__1-9Hk"}},58:function(e,t,n){e.exports={"main-header":"MainHeader_main-header__mpyP_"}},77:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(51),o=n.n(i),r=(n(77),n(6)),s=n(52),u=n.n(s),l=n(1),d=function(e){return Object(l.jsx)("div",{className:"".concat(u.a.card," ").concat(e.className),children:e.children})},j=n(27),b=n.n(j),h=n(53),f=n.n(h),p=function(e){return Object(l.jsx)("button",{type:e.type||"button",className:"".concat(f.a.button," ").concat(e.className),onClick:e.onClick,disabled:e.disabled,children:e.children})},x=a.a.createContext({isLoggedIn:!1,onLogout:function(){},onLogin:function(e,t){}}),O=function(e){var t=Object(c.useState)(!1),n=Object(r.a)(t,2),a=n[0],i=n[1];Object(c.useEffect)((function(){"1"===localStorage.getItem("isLoggedIn")&&i(!0)}),[]);return Object(l.jsx)(x.Provider,{value:{isLoggedIn:a,onLogout:function(){localStorage.removeItem("isLoggedIn"),i(!1)},onLogin:function(e,t){localStorage.setItem("isLoggedIn","1"),i(!0)}},children:e.children})},m=x,v=function(e,t){return"USER_INPUT"===t.type?{value:t.val,isValid:"andreya"===t.val}:"INPUT_BLUR"===t.type?{value:e.value,isValid:"andreya"===e.value}:{value:"",isValid:!1}},g=function(e,t){return"USER_INPUT"===t.type?{value:t.val,isValid:"andreya"===t.val}:"INPUT_BLUR"===t.type?{value:e.value,isValid:"andreya"===e.value}:{value:"",isValid:!1}},_=function(e){var t=Object(c.useContext)(m),n=Object(c.useState)(!1),a=Object(r.a)(n,2),i=a[0],o=a[1],s=Object(c.useReducer)(v,{value:"",isValid:null}),u=Object(r.a)(s,2),j=u[0],h=u[1],f=Object(c.useReducer)(g,{value:"",isValid:null}),x=Object(r.a)(f,2),O=x[0],_=x[1],y=j.isValid,k=O.isValid;Object(c.useEffect)((function(){var e=setTimeout((function(){console.log("Checking form validity!"),o(y&&k)}),500);return function(){clearTimeout(e)}}),[y,k]);return Object(l.jsx)(d,{className:b.a.login,children:Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t.onLogin(j.value,O.value)},children:[Object(l.jsxs)("div",{className:"".concat(b.a.control," ").concat(!1===j.isValid?b.a.invalid:""),children:[Object(l.jsx)("label",{htmlFor:"name",children:"Name"}),Object(l.jsx)("input",{type:"name",id:"name",value:j.value,onChange:function(e){h({type:"USER_INPUT",val:e.target.value})},onBlur:function(){h({type:"INPUT_BLUR"})}})]}),Object(l.jsxs)("div",{className:"".concat(b.a.control," ").concat(!1===O.isValid?b.a.invalid:""),children:[Object(l.jsx)("label",{htmlFor:"password",children:"Password"}),Object(l.jsx)("input",{type:"password",id:"password",value:O.value,onChange:function(e){_({type:"USER_INPUT",val:e.target.value})},onBlur:function(){_({type:"INPUT_BLUR"})}})]}),Object(l.jsx)("div",{className:b.a.actions,children:Object(l.jsx)(p,{type:"submit",className:b.a.btn,disabled:!i,children:"Login"})})]})})},y=n(16),k=n(24),N=n(30),L=function(){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(null),o=Object(r.a)(i,2),s=o[0],u=o[1],l=Object(c.useCallback)(function(){var e=Object(N.a)(Object(k.a)().mark((function e(t,n){var c,i;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),u(null),e.prev=2,e.next=5,fetch(t.url,{method:t.method?t.method:"GET",headers:t.headers?t.headers:{},body:t.body?JSON.stringify(t.body):null});case 5:if((c=e.sent).ok){e.next=8;break}throw new Error("Request failed!");case 8:return e.next=10,c.json();case 10:i=e.sent,n(i),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),u(e.t0.message||"Something went wrong!");case 17:a(!1);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,n){return e.apply(this,arguments)}}(),[]);return{isLoading:n,error:s,sendRequest:l}},I=n(54),S=n.n(I),R=n(55),w=n.n(R),C=function(e){var t=Object(c.useState)(""),n=Object(r.a)(t,2),a=n[0],i=n[1];return Object(l.jsx)(d,{className:w.a.input,children:Object(l.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""!==a&&(e.onAddReason(a),i(""))},children:[Object(l.jsx)("label",{htmlFor:"text",children:"Reason to love Andie"}),Object(l.jsx)("input",{id:"text",type:"text",value:a,onChange:function(e){i(e.target.value)}}),Object(l.jsx)(p,{type:"submit",children:"Add Reason"})]})})},T=n(56),U=n.n(T),P=function(e){return Object(l.jsxs)(p,{className:U.a.items,children:[Object(l.jsx)("h4",{children:"Reasons to love Andie"}),Object(l.jsx)("ul",{children:e.items.map((function(e){return Object(l.jsx)("li",{children:e.text},e.id)}))})]})},B=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],a=t[1],i=L().sendRequest;Object(c.useEffect)((function(){i({url:"https://bondi-8a94c-default-rtdb.firebaseio.com/reasons.json"},(function(e){var t=[];for(var n in e)t.push({id:n,text:e[n].text});a(t.reverse())}))}),[i]);var o=function(e,t){var n=t.name;u({id:n,text:e})},s=function(){var e=Object(N.a)(Object(k.a)().mark((function e(t){return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i({url:"https://bondi-8a94c-default-rtdb.firebaseio.com/reasons.json",method:"POST",headers:{"Content-Type":"application/json"},body:{text:t}},o.bind(null,t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(e){a((function(t){return[e].concat(Object(y.a)(t))}))};return Object(l.jsxs)("div",{className:S.a.home,children:[Object(l.jsx)(C,{onAddReason:s}),Object(l.jsx)(P,{items:n})]})},E=n(31),V=n(57),A=n.n(V),D=function(){var e=Object(c.useContext)(m);return Object(l.jsx)("nav",{className:A.a.nav,children:e.isLoggedIn&&Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{children:Object(l.jsx)(E.b,{to:"/reasons",children:"Reasons"})}),Object(l.jsx)("li",{children:Object(l.jsx)(E.b,{to:"/checklist",children:"Checkist"})}),Object(l.jsx)("li",{children:Object(l.jsx)("button",{onClick:e.onLogout,children:"Logout"})})]})})},F=n(58),q=n.n(F),z=function(){var e=Object(c.useContext)(m);return Object(l.jsxs)("header",{className:q.a["main-header"],children:[!e.isLoggedIn&&Object(l.jsx)("h1",{children:"Bondie"}),Object(l.jsx)(D,{})]})},G=n(7),H=n(36),J=n(63),M=n(61),W=n(59),K=n(64),Q=n(62),X=n(60),Y=n(46),Z=n.n(Y),$=function(e){var t=Object(c.useState)(""),n=Object(r.a)(t,2),a=n[0],i=n[1];return Object(l.jsx)(d,{className:Z.a.input,children:Object(l.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""!==a&&(e.onAddDate(a),i(""))},children:[Object(l.jsx)("input",{id:"text",type:"text",value:a,onChange:function(e){i(e.target.value)}}),Object(l.jsx)(p,{className:Z.a.plusButton,type:"submit",children:"Add Date Idea"})]})})};function ee(){var e=c.useState([]),t=Object(r.a)(e,2),n=t[0],a=t[1],i=c.useState([]),o=Object(r.a)(i,2),s=o[0],u=o[1],j=L().sendRequest;c.useEffect((function(){j({url:"https://bondi-8a94c-default-rtdb.firebaseio.com/dates.json"},(function(e){var t=[];for(var n in e)t.push({id:n,text:e[n].text,checked:e[n].checked});u(t),console.log("IN"),console.log(t.filter((function(e){return!0===e.checked}))),a(t.filter((function(e){return!0===e.checked})).reverse())}))}),[j]);var b=function(e,t){t.name;window.location.reload(!1)},h=function(){var e=Object(N.a)(Object(k.a)().mark((function e(t){return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j({url:"https://bondi-8a94c-default-rtdb.firebaseio.com/dates.json",method:"POST",headers:{"Content-Type":"application/json"},body:{text:t,checked:!1}},b.bind(null,t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e){return function(){var t=n.find((function(t){return t.id===e.id})),c=Object(y.a)(n);if(console.log(t),t){var i=n.indexOf(t);c.splice(i,1);var o=s.indexOf(e);u((function(e){return e.map((function(e,t){return t===o?Object(H.a)(Object(H.a)({},e),{},{checked:!1}):e}))})),j({url:"https://bondi-8a94c-default-rtdb.firebaseio.com/dates/"+e.id+".json",method:"PUT",headers:{"Content-Type":"application/json"},body:{text:e.text,checked:!1}})}else{c.push(e);var r=s.indexOf(e);u((function(e){return e.map((function(e,t){return t===r?Object(H.a)(Object(H.a)({},e),{},{checked:!0}):e}))})),j({url:"https://bondi-8a94c-default-rtdb.firebaseio.com/dates/"+e.id+".json",method:"PUT",headers:{"Content-Type":"application/json"},body:{text:e.text,checked:!0}})}a(c)}};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h4",{style:{fontSize:"25px",marginBlock:"15px",textAlign:"center",padding:"1rem",margin:"2rem auto",width:"90%",maxWidth:"40rem"},children:"Date Checklist"}),Object(l.jsx)(d,{children:Object(l.jsx)(J.a,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:s.map((function(e){var t="checkbox-list-label-".concat(e);return Object(l.jsx)(M.a,{children:Object(l.jsxs)(W.a,{role:void 0,onClick:f(e),dense:!0,children:[Object(l.jsx)(K.a,{children:Object(l.jsx)(X.a,{style:{color:"purple"},edge:"start",checked:e.checked,tabIndex:-1,inputProps:{"aria-labelledby":t}})}),Object(l.jsx)(Q.a,{id:t,primary:e.text,primaryTypographyProps:{fontSize:"20px"}})]})},e.id)}))})}),Object(l.jsx)($,{onAddDate:h})]})}var te=function(){var e=Object(c.useContext)(m);return Object(l.jsxs)(a.a.Fragment,{children:[Object(l.jsx)(z,{}),Object(l.jsxs)("main",{children:[!e.isLoggedIn&&Object(l.jsx)(_,{}),e.isLoggedIn&&Object(l.jsxs)(G.d,{children:[Object(l.jsx)(G.b,{path:"/reasons",element:Object(l.jsx)(B,{})}),Object(l.jsx)(G.b,{path:"/checklist",element:Object(l.jsx)(ee,{})}),Object(l.jsx)(G.b,{path:"*",element:Object(l.jsx)(G.a,{to:"/reasons",replace:!0})})]})]})]})};o.a.createRoot(document.getElementById("root")).render(Object(l.jsx)(E.a,{children:Object(l.jsx)(O,{children:Object(l.jsx)(te,{})})}))}},[[81,1,2]]]);
//# sourceMappingURL=main.4797a9a7.chunk.js.map